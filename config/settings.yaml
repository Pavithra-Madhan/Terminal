system:
  name: "Parmira"
  description: "Local terminal-first AI assistant with MCP integration."
  mode: "development"

agents:
  terminal_agent:
    description: >
      Master coordinator. Uses MCP Cursor for all system interactions - 
      terminal commands, file operations, processes, and more.
      Can query SQLite databases freely (read-only) and calls RAG when semantic search needed.
      Makes all final decisions and communicates with user.
    prompts:
      system: "config/terminal_prompts.yaml"
    tools:
      - mcp_cursor              # Access to all system tools via MCP
      - sqlite_query            # Direct SQLite queries (read-only)
      - call_rag_agent          # Call RAG when semantic search needed

  memory_agent:
    description: >
      Memory specialist. Automatically scores and stores every user message.
      Runs in background - no coordination needed.
      Handles STM/LTM storage and tombstoning independently.
    prompts:
      system: "config/memory_prompts.yaml"
    tools:
      - memory_add              # Score & classify messages
      - add_to_sqlite           # Store in STM
      - add_to_vector_db        # Store in LTM
      - run_tombstone_scan      # Identify obsolete/conflicting memories

  rag_agent:
    description: >
      Retrieval specialist. Called only when Terminal needs semantic search.
      Searches Memory + System databases and returns curated results.
      Never modifies databases, never outputs to user directly.
    prompts:
      system: "config/rag_prompts.yaml"
    tools:
      - search_vector_db        # Semantic search in vector DBs
      - query_sqlite_memory     # Query memory STM
      - system_db_query         # Query system DB STM
      - system_db_index_search  # Query system DB LTM

databases:
  memory:
    stm: "db/memory_stm.sqlite"
    ltm: "db/chroma_memory"
  system:
    stm: "system/system_stm.sqlite"
    ltm: "db/chroma_system"

logging:
  path: "logs/"
  enabled: true
  max_size_mb: 20
  rotate: true

cooperation:
  enforce_coordination: false    # No complex coordination
  terminal_can_query_dbs: true   # Terminal can query SQLite directly
  memory_agent_db_access: ["memory"]
  rag_agent_db_access: ["memory", "system"]